<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        body { margin: 0; background: #f4f4f4; font-family: sans-serif; }
        .viewer-container { position: relative; width: 100vw; height: 85vh; }
        
        /* The Room is the background */
        #room-viewer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        
        /* The Sofa is the foreground */
        #sofa-viewer { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; 
            pointer-events: none; /* Allows you to rotate the room while seeing the sofa */
        }

        .controls { 
            position: fixed; bottom: 0; width: 100%; height: 15vh; 
            background: white; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        select { padding: 12px; font-size: 1rem; width: 250px; border-radius: 8px; }
    </style>
</head>
<body>

<div class="viewer-container">
    <model-viewer id="room-viewer" src="Room.glb" camera-controls disable-zoom exposure="1" shadow-intensity="1"></model-viewer>
    
    <model-viewer id="sofa-viewer" src="Sofa1.glb" exposure="1.2" shadow-intensity="1.5"></model-viewer>
</div>

<div class="controls">
    <label><b>Choose Sofa Configuration:</b></label><br>
    <select id="variant-toggle">
        <option value="Sofa1.glb">Configuration 1</option>
        <option value="Sofa2.glb">Configuration 2</option>
        <option value="Sofa3.glb">Configuration 3</option>
        <option value="Sofa4.glb">Configuration 4</option>
        <option value="Sofa5.glb">Configuration 5</option>
    </select>
</div>

<script>
    const roomViewer = document.querySelector('#room-viewer');
    const sofaViewer = document.querySelector('#sofa-viewer');

    // This syncs the movement so when you rotate the room, the sofa rotates with it
    roomViewer.addEventListener('camera-change', () => {
        sofaViewer.cameraOrbit = roomViewer.cameraOrbit;
        sofaViewer.fieldOfView = roomViewer.fieldOfView;
    });

    document.querySelector('#variant-toggle').addEventListener('change', (e) => {
        sofaViewer.src = e.target.value;
    });
</script>
</body>
</html>
